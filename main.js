(()=>{"use strict";let t=[];class e{constructor(t){this.title=t,this.toDos=[]}createButton(){const t=document.querySelector(".body"),e=document.createElement("button");e.classList.add("newToDo"),e.innerHTML="+",t.appendChild(e),e.addEventListener("click",(()=>{this.toDoForm()}))}toDoForm(){const t=document.querySelector(".body");t.removeChild(t.lastChild);const e=document.createElement("form");e.innerHTML=" \n            <input type = 'text' class='toDoTitle' placeholder='To Do Title' required>\n            <input type = 'text' class='toDoDescription' placeholder='To Do Description' required>\n            <input type = 'date' class='toDoDate' required>\n            <select id = 'priority' name = 'priority' class='toDoPriority'>\n                <option value='high'>High</option>\n                <option value='medium'>Medium</option>\n                <option value='low'>Low</option>\n            </select>\n            <input type= 'button' class='toDoSubmit' value='Submit'>",e.classList.add("toDoForm"),t.appendChild(e),document.querySelector(".toDoSubmit").addEventListener("click",(()=>{this.createToDo()}))}createToDo(){let e=document.querySelector(".toDoTitle"),o=document.querySelector(".toDoDescription"),n=document.querySelector(".toDoDate"),i=document.querySelector(".toDoPriority");const r=new l(e.value,o.value,n.value,i.value);"Main"!==this.title&&this.toDos.push(r),t[0].toDos.push(r),localStorage.setItem("projects",JSON.stringify(t)),document.querySelector(".toDoForm").remove(),document.querySelector(".body").appendChild(r.displayToDo(this)),this.createButton()}loadToDos(){let t=document.querySelector(".body");for(let e=0;e<this.toDos.length;e++)t.appendChild(this.toDos[e].displayToDo(this))}deleteToDo(e){for(let o=0;o<this.toDos.length;o++)this.toDos[o].title===e&&(this.toDos.splice(o,1),localStorage.setItem("projects",JSON.stringify(t)));const o=document.querySelector(".body");for(;o.firstChild;)o.firstChild.remove();const n=document.createElement("h2");n.innerHTML=this.title,o.appendChild(n),this.loadToDos(),this.createButton()}}function o(o,n){const i=document.querySelector(".nav");let r=new e(`${o}`);const l=document.createElement("button");l.classList.add("sidebarButton"),l.setAttribute("data-v",t.length),l.innerHTML=`<img src='imgs/${n}'>${r.title}`,i.appendChild(l),t.push(r)}function n(){!function(){const e=document.querySelectorAll(".sidebarButton");let o=document.querySelector(".body");e.forEach((e=>{e.onclick=function(){for(;o.firstChild;)o.firstChild.remove();const n=document.createElement("h2");n.innerHTML=t[parseInt(e.getAttribute("data-v"))].title,o.appendChild(n),t[parseInt(e.getAttribute("data-v"))].loadToDos(),t[parseInt(e.getAttribute("data-v"))].createButton()}}))}();const o=document.querySelector(".nav"),r=document.createElement("button");r.classList.add("newProject"),r.innerHTML="+",o.appendChild(r),r.addEventListener("click",(()=>{!function(){const o=document.querySelector(".nav");o.removeChild(o.lastChild);let r=document.createElement("form");r.innerHTML=" \n        <input type = 'text' class='projectInput' placeholder='Project Name'>\n        <input type= 'button' class='projectSubmit' value='Submit'>",r.classList.add("projectForm"),o.appendChild(r);let l="";const c=document.querySelector(".projectSubmit"),s=document.querySelector(".projectInput");c.addEventListener("click",(()=>{l=s.value;let r=function(e){for(let o=0;o<t.length;o++)if(t[o].title===e)return!0;return!1}(l);if(r)return alert("Please input a new project name"),o.removeChild(o.lastChild),void n();o.removeChild(o.lastChild);const c=document.createElement("button");c.classList.add("sidebarButton"),c.innerHTML=`<img src='imgs/project-icon.svg'><div>${l}</div>`,c.setAttribute("data-v",t.length);const d=document.createElement("button");d.classList.add("removeProjectButton"),d.setAttribute("data-v",t.length-3),d.innerText="X",c.appendChild(d),o.appendChild(c);let a=new e(`${l}`);t.push(a),localStorage.setItem("projects",JSON.stringify(t)),d.addEventListener("click",(()=>{const e=document.querySelectorAll(".sidebarButton");t.splice(parseInt(d.getAttribute("data-v"))+3,1),e[parseInt(d.getAttribute("data-v"))+3].remove(),localStorage.setItem("projects",JSON.stringify(t)),i()})),n()}))}()}))}function i(){const t=document.querySelectorAll(".sidebarButton");for(let e=0;e<t.length;e++)t[e].setAttribute("data-v",e);const e=document.querySelectorAll(".removeProjectButton");for(let t=0;t<e.length;t++)e[t].setAttribute("data-v",t)}function r(o,n){let r=o.title;const l=document.querySelector(".nav"),c=document.createElement("button");c.classList.add("sidebarButton"),c.innerHTML=`<img src='imgs/project-icon.svg'><div>${r}</div>`,c.setAttribute("data-v",n);const s=document.createElement("button");s.classList.add("removeProjectButton"),s.setAttribute("data-v",n-3),s.innerText="X",c.appendChild(s),l.appendChild(c);let d=new e(`${r}`);d.toDos=o.toDos,t[n]=d,s.addEventListener("click",(()=>{const e=document.querySelectorAll(".sidebarButton");t.splice(parseInt(s.getAttribute("data-v"))+3,1),e[parseInt(s.getAttribute("data-v"))+3].remove(),localStorage.setItem("projects",JSON.stringify(t)),i()}))}class l{constructor(t,e,o,n){this.title=t,this.description=e,this.dueDate=o,this.priority=n}displayToDo(e){let o=document.createElement("div");o.classList.add("toDoItem");const n=document.createElement("div");n.classList.add("toDoSection");let i=document.createElement("input");i.setAttribute("type","checkbox");let r=document.createElement("div");r.innerHTML=this.title;let l=document.createElement("div");l.innerHTML=this.dueDate;let c=document.createElement("div"),s=document.createElement("button");s.innerHTML="<img src='imgs/iconmonstr-arrow-down-thin.svg'>";let d=document.createElement("button");d.innerHTML="<img src='imgs/trash-can-svgrepo-com.svg'>",c.appendChild(s),c.appendChild(d),n.appendChild(i),n.appendChild(r),n.appendChild(l),n.appendChild(c),o.appendChild(n);const a=document.createElement("div");a.classList.add("toDoSection"),a.classList.add("hidden"),a.setAttribute("id","toggleGroup");let u=document.createElement("div");u.innerHTML="Description: "+this.description;const p=document.createElement("div");p.innerHTML="Importance: "+this.priority;const m=document.createElement("button");return m.innerHTML="<img src='imgs/edit-button-svgrepo-com.svg'>",a.appendChild(m),a.appendChild(u),a.appendChild(p),a.appendChild(m),o.appendChild(a),m.addEventListener("click",(()=>{const n=document.createElement("form");for(n.innerHTML=` \n                <input type = 'text' class='toDoTitle' placeholder='To Do Title' value = '${this.title}' >\n                <input type = 'text' class='toDoDescription' placeholder='To Do Description' value = '${this.description}'>\n                <input type = 'date' class='toDoDate' value = '${this.dueDate}'>\n                <select id = 'priority' name = 'priority' class='toDoPriority'>\n                    <option value='high'>High</option>\n                    <option value='medium'>Medium</option>\n                    <option value='low'>Low</option>\n                </select>\n                <input type= 'button' class='toDoSubmit' value='Submit'>`,n.classList.add("toDoForm");o.firstChild;)o.firstChild.remove();o.appendChild(n),document.querySelector(".toDoSubmit").addEventListener("click",(()=>{let o=document.querySelector(".toDoTitle"),n=document.querySelector(".toDoDescription"),i=document.querySelector(".toDoDate"),r=document.querySelector(".toDoPriority");this.title=o.value,this.description=n.value,this.dueDate=i.value,this.priority=r.value;const l=document.querySelector(".body");for(;l.firstChild;)l.firstChild.remove();const c=document.createElement("h2");c.innerHTML=e.title,l.appendChild(c),localStorage.setItem("projects",JSON.stringify(t)),e.loadToDos(),e.createButton()}))})),s.addEventListener("click",(()=>{a.classList.toggle("hidden")})),d.addEventListener("click",(()=>{let o=0;for(let n=0;n<t.length;n++)t[n].title===e.title&&(o=n);t[o].deleteToDo(this.title)})),o}}!function(){let t=document.querySelector(".container");t.appendChild(function(){let t=document.createElement("div");return t.classList.add("header"),t.innerHTML="<img src='imgs/check.svg' alt='checkmark logo'> <div>To-Do-List</div>",t}()),t.appendChild(function(){let t=document.createElement("div");return t.classList.add("nav"),t}()),t.appendChild(function(){let t=document.createElement("div");return t.classList.add("body"),t}()),t.appendChild(function(){let t=document.createElement("div");return t.classList.add("footer"),t.innerHTML="<div>Copyright &copy 2022 Gabriel Pleimann</div><a href='https://github.com/gdp7zt/ToDoList' target='_blank'><img src='imgs/GitHub-Mark-32px.png'></a>",t}())}(),function(){o("Main","inbox-icon.svg"),o("Today","calendar-daily-page-on-day-31-svgrepo-com.svg"),o("This Week","week-calendar-svgrepo-com.svg");const i=document.createElement("div");i.classList.add("navHeader"),i.textContent="Projects",document.querySelector(".nav").appendChild(i);let c=JSON.parse(localStorage.getItem("projects"));null==c&&(localStorage.setItem("projects",JSON.stringify(t)),c=JSON.parse(localStorage.getItem("projects")));for(let t=0;t<c.length;t++){let o=c[t].title,n=[];for(let e=0;e<c[t].toDos.length;e++){let o=c[t].toDos[e].title,i=c[t].toDos[e].description,r=c[t].toDos[e].dueDate,s=c[t].toDos[e].priority;n[e]=new l(o,i,r,s)}c[t]=new e(o),c[t].toDos=n}if(c){for(let e=0;e<3;e++)t[e].toDos=c[e].toDos;for(let t=3;t<c.length;t++)r(c[t],t)}n()}()})();